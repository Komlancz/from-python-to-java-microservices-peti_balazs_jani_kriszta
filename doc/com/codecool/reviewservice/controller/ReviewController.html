<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_101) on Mon Jan 16 00:08:03 CET 2017 -->
<title>ReviewController</title>
<meta name="date" content="2017-01-16">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ReviewController";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/codecool/reviewservice/controller/RegistrationPageController.html" title="class in com.codecool.reviewservice.controller"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/codecool/reviewservice/controller/ReviewController.html" target="_top">Frames</a></li>
<li><a href="ReviewController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.codecool.reviewservice.controller</div>
<h2 title="Class ReviewController" class="title">Class ReviewController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.codecool.reviewservice.controller.ReviewController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ReviewController</span>
extends java.lang.Object</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../../com/codecool/reviewservice/dao/ClientDao.html" title="interface in com.codecool.reviewservice.dao">ClientDao</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/codecool/reviewservice/controller/ReviewController.html#clients">clients</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/codecool/reviewservice/controller/ReviewController.html#logger">logger</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../../com/codecool/reviewservice/dao/ReviewDao.html" title="interface in com.codecool.reviewservice.dao">ReviewDao</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/codecool/reviewservice/controller/ReviewController.html#reviews">reviews</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/codecool/reviewservice/controller/ReviewController.html#ReviewController--">ReviewController</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/codecool/reviewservice/controller/ReviewController.html#changeStatus-spark.Request-spark.Response-">changeStatus</a></span>(spark.Request&nbsp;request,
            spark.Response&nbsp;response)</code>
<div class="block">This method has called from server (/changeStatus/:APIKey/:reviewKey/:status).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/codecool/reviewservice/controller/ReviewController.html#getAllReviewFromClient-spark.Request-spark.Response-">getAllReviewFromClient</a></span>(spark.Request&nbsp;request,
                      spark.Response&nbsp;response)</code>
<div class="block">This method has called from server (/reviewFromClient/:APIKey).</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/codecool/reviewservice/controller/ReviewController.html#getAllReviewOfProduct-spark.Request-spark.Response-">getAllReviewOfProduct</a></span>(spark.Request&nbsp;request,
                     spark.Response&nbsp;response)</code>
<div class="block">This method has called from server (/allReviewOfProduct/:APIKey/:ProductName).</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/codecool/reviewservice/controller/ReviewController.html#getClientID-java.lang.String-">getClientID</a></span>(java.lang.String&nbsp;APIKey)</code>
<div class="block">This method is used for getting a specific client's ID by their API Key.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/codecool/reviewservice/controller/ReviewController.html#jsonify-java.util.ArrayList-">jsonify</a></span>(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;reviews)</code>
<div class="block">This method is used for converting an ArrayList (which contains Review objects as strings) into JSON.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/codecool/reviewservice/controller/ReviewController.html#newReview-spark.Request-spark.Response-">newReview</a></span>(spark.Request&nbsp;request,
         spark.Response&nbsp;response)</code>
<div class="block">This method has called from server (/review/:APIKey/:productName/:comment/:ratings).</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/codecool/reviewservice/controller/ReviewController.html#validateClient-java.lang.String-">validateClient</a></span>(java.lang.String&nbsp;APIKey)</code>
<div class="block">This method is used for validating the clients by their API Key.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>private static final&nbsp;org.slf4j.Logger logger</pre>
</li>
</ul>
<a name="reviews">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reviews</h4>
<pre>private static&nbsp;<a href="../../../../com/codecool/reviewservice/dao/ReviewDao.html" title="interface in com.codecool.reviewservice.dao">ReviewDao</a> reviews</pre>
</li>
</ul>
<a name="clients">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>clients</h4>
<pre>private static&nbsp;<a href="../../../../com/codecool/reviewservice/dao/ClientDao.html" title="interface in com.codecool.reviewservice.dao">ClientDao</a> clients</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ReviewController--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ReviewController</h4>
<pre>public&nbsp;ReviewController()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="newReview-spark.Request-spark.Response-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newReview</h4>
<pre>public static&nbsp;java.lang.String&nbsp;newReview(spark.Request&nbsp;request,
                                         spark.Response&nbsp;response)
                                  throws java.io.IOException,
                                         java.net.URISyntaxException,
                                         <a href="../../../../com/codecool/reviewservice/errorHandling/InvalidClient.html" title="class in com.codecool.reviewservice.errorHandling">InvalidClient</a></pre>
<div class="block">This method has called from server (/review/:APIKey/:productName/:comment/:ratings).
 It runs a validation the API key (that gets from request.params("APIKey") is valid by calling the validateClient() method,
 if it is valid it creates a new Review object and adds it to the database with the review.add(newReview) method and also
 sends email by calls ReviewForModerationEmail(), which sends an email to the client.
 If the API key is invalid the method throws an InvalidClient exception.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - Spark request.</dd>
<dd><code>response</code> - Spark response.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null. (it needs to returns null)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.net.URISyntaxException</code></dd>
<dd><code><a href="../../../../com/codecool/reviewservice/errorHandling/InvalidClient.html" title="class in com.codecool.reviewservice.errorHandling">InvalidClient</a></code></dd>
</dl>
</li>
</ul>
<a name="changeStatus-spark.Request-spark.Response-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeStatus</h4>
<pre>public static&nbsp;java.lang.String&nbsp;changeStatus(spark.Request&nbsp;request,
                                            spark.Response&nbsp;response)
                                     throws java.io.IOException,
                                            java.net.URISyntaxException,
                                            <a href="../../../../com/codecool/reviewservice/errorHandling/InvalidClient.html" title="class in com.codecool.reviewservice.errorHandling">InvalidClient</a></pre>
<div class="block">This method has called from server (/changeStatus/:APIKey/:reviewKey/:status).
 It runs a validation the API key (that gets from request.params("APIKey") is valid by calling the validateClient() method,
 if it is valid gets the reviewKey by request and modify the review's status by calls reviews.updateStatus(reviewKey, status) method.
 If it is not valid throws an InvalidClient() exception.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - Spark request</dd>
<dd><code>response</code> - Spark response</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null. (it needs to returns null)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.net.URISyntaxException</code></dd>
<dd><code><a href="../../../../com/codecool/reviewservice/errorHandling/InvalidClient.html" title="class in com.codecool.reviewservice.errorHandling">InvalidClient</a></code></dd>
</dl>
</li>
</ul>
<a name="getAllReviewFromClient-spark.Request-spark.Response-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllReviewFromClient</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getAllReviewFromClient(spark.Request&nbsp;request,
                                                      spark.Response&nbsp;response)
                                               throws java.io.IOException,
                                                      java.net.URISyntaxException,
                                                      <a href="../../../../com/codecool/reviewservice/errorHandling/InvalidClient.html" title="class in com.codecool.reviewservice.errorHandling">InvalidClient</a></pre>
<div class="block">This method has called from server (/reviewFromClient/:APIKey).
 It runs a validation the API key (that gets from request.params("APIKey") is valid by calling the validateClient() method,
 if it is valid get all reviews by calls reviews.gettApprovedByClientId(clientId) and upload the 'reviewsOfClient' list with them.
 If it is not valid throws InvalidClient exception.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - Spark request</dd>
<dd><code>response</code> - Spark response</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Review objects as JSON string.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.net.URISyntaxException</code></dd>
<dd><code><a href="../../../../com/codecool/reviewservice/errorHandling/InvalidClient.html" title="class in com.codecool.reviewservice.errorHandling">InvalidClient</a></code></dd>
</dl>
</li>
</ul>
<a name="getAllReviewOfProduct-spark.Request-spark.Response-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllReviewOfProduct</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getAllReviewOfProduct(spark.Request&nbsp;request,
                                                     spark.Response&nbsp;response)
                                              throws java.io.IOException,
                                                     java.net.URISyntaxException,
                                                     <a href="../../../../com/codecool/reviewservice/errorHandling/InvalidClient.html" title="class in com.codecool.reviewservice.errorHandling">InvalidClient</a></pre>
<div class="block">This method has called from server (/allReviewOfProduct/:APIKey/:ProductName).
 It runs a validation the API key (that gets from request.params("APIKey") is valid by calling the validateClient() method,
 if it is valid get all reviews by calls reviews.getApprovedByProductName(productName) -it is IMPORTANT the productName has to be UPPERCASE
 and without any whitespace- and upload the 'approvedReviews' list with them.
 If it is not valid throws InvalidClient exception.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - Spark request</dd>
<dd><code>response</code> - Spark response</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Review objects as JSON string.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.net.URISyntaxException</code></dd>
<dd><code><a href="../../../../com/codecool/reviewservice/errorHandling/InvalidClient.html" title="class in com.codecool.reviewservice.errorHandling">InvalidClient</a></code></dd>
</dl>
</li>
</ul>
<a name="validateClient-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateClient</h4>
<pre>private static&nbsp;boolean&nbsp;validateClient(java.lang.String&nbsp;APIKey)</pre>
<div class="block">This method is used for validating the clients by their API Key. If the API key is not in the database the method returns false,
 if it is in the database, the method returns true.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>APIKey</code> - an unique hash belongs to every Client record in the database, this is the APIKey</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Boolean</dd>
</dl>
</li>
</ul>
<a name="getClientID-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientID</h4>
<pre>private static&nbsp;int&nbsp;getClientID(java.lang.String&nbsp;APIKey)</pre>
<div class="block">This method is used for getting a specific client's ID by their API Key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>APIKey</code> - an unique hash belongs to every Client record in the database, this is the APIKey</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the ID of a client as an Integer.</dd>
</dl>
</li>
</ul>
<a name="jsonify-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>jsonify</h4>
<pre>private static&nbsp;java.lang.String&nbsp;jsonify(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;reviews)</pre>
<div class="block">This method is used for converting an ArrayList (which contains Review objects as strings) into JSON.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reviews</code> - Review objects as strings in an ArrayList</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Review objects as JSON string.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/codecool/reviewservice/controller/RegistrationPageController.html" title="class in com.codecool.reviewservice.controller"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/codecool/reviewservice/controller/ReviewController.html" target="_top">Frames</a></li>
<li><a href="ReviewController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
